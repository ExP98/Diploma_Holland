\renewcommand{\g}[1]{\gradientcelld{#1}{7}{9.6}{11.5}{low}{mid}{high}{70}}
\newcommand{\gndcg}[1]{\gradientcelld{#1}{0.25}{0.54}{0.7}{low}{mid}{high}{70}}

\begin{table}
    \setlength{\tabcolsep}{0pt}
    \small
    \centering
    \caption{Сравнение моделей ранжирования}
    \label{tab:rank}
    \begin{tabular*}{0.95\textwidth}{@{\extracolsep{\fill}} 
      >{\raggedright\arraybackslash}p{2.5cm}  % Функция потерь
      | *{3}{>{\centering\arraybackslash}m{1.9cm}}  % C‑индекс
      | *{3}{>{\centering\arraybackslash}m{1.9cm}}  % NDCG@3
    }
      \toprule
        \multicolumn{1}{c|}{\textbf{Функция}}  
          & \multicolumn{3}{c|}{\textbf{C‑индекс}} 
          & \multicolumn{3}{c}{\textbf{NDCG@3}} \\
        \cmidrule(lr){2-4} \cmidrule(lr){5-7}
        \multicolumn{1}{c|}{\textbf{потерь}}  
        & Deep\&Cross 
        & Trans\-former 
        & MLP 
        & Deep\&Cross 
        & Trans\-former 
        & MLP \\
      \midrule
      ApproxNDCG   & \g{10.025} & \g{8.888}  & \g{9.150}  & \gndcg{0.539} & \gndcg{0.439} & \gndcg{0.388} \\
      LambdaRank   & \g{9.963}  & \g{9.675}  & \g{9.650}  & \gndcg{0.527} & \gndcg{0.489} & \gndcg{0.543} \\
      ListNet@1    & \g{9.650}  & \g{10.325} & \g{10.438} & \gndcg{0.504} & \gndcg{0.628} & \gndcg{0.653} \\
      ListNet@3    & \g{9.450}  & \g{9.950}  & \g{10.788} & \gndcg{0.458} & \gndcg{0.622} & \gndcg{0.638} \\
      \bottomrule
    \end{tabular*}
\end{table}
